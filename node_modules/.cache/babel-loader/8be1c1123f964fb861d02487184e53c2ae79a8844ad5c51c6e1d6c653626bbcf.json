{"ast":null,"code":"import _classCallCheck from \"/home/esteban/2emeAnnee/S3/devWeb/QuanticGP10/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/home/esteban/2emeAnnee/S3/devWeb/QuanticGP10/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _callSuper from \"/home/esteban/2emeAnnee/S3/devWeb/QuanticGP10/node_modules/@babel/runtime/helpers/esm/callSuper.js\";\nimport _superPropGet from \"/home/esteban/2emeAnnee/S3/devWeb/QuanticGP10/node_modules/@babel/runtime/helpers/esm/superPropGet.js\";\nimport _inherits from \"/home/esteban/2emeAnnee/S3/devWeb/QuanticGP10/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _defineProperty from \"/home/esteban/2emeAnnee/S3/devWeb/QuanticGP10/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport \"core-js/modules/es.array.concat.js\";\nimport \"core-js/modules/es.array.index-of.js\";\nimport \"core-js/modules/es.array.reduce.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport { BlockEmbed } from '../blots/block.js';\nimport Link from './link.js';\nvar ATTRIBUTES = ['height', 'width'];\nvar Video = /*#__PURE__*/function (_BlockEmbed) {\n  function Video() {\n    _classCallCheck(this, Video);\n    return _callSuper(this, Video, arguments);\n  }\n  _inherits(Video, _BlockEmbed);\n  return _createClass(Video, [{\n    key: \"format\",\n    value: function format(name, value) {\n      if (ATTRIBUTES.indexOf(name) > -1) {\n        if (value) {\n          this.domNode.setAttribute(name, value);\n        } else {\n          this.domNode.removeAttribute(name);\n        }\n      } else {\n        _superPropGet(Video, \"format\", this, 3)([name, value]);\n      }\n    }\n  }, {\n    key: \"html\",\n    value: function html() {\n      var _this$value = this.value(),\n        video = _this$value.video;\n      return \"<a href=\\\"\".concat(video, \"\\\">\").concat(video, \"</a>\");\n    }\n  }], [{\n    key: \"create\",\n    value: function create(value) {\n      var node = _superPropGet(Video, \"create\", this, 2)([value]);\n      node.setAttribute('frameborder', '0');\n      node.setAttribute('allowfullscreen', 'true');\n      node.setAttribute('src', this.sanitize(value));\n      return node;\n    }\n  }, {\n    key: \"formats\",\n    value: function formats(domNode) {\n      return ATTRIBUTES.reduce(function (formats, attribute) {\n        if (domNode.hasAttribute(attribute)) {\n          formats[attribute] = domNode.getAttribute(attribute);\n        }\n        return formats;\n      }, {});\n    }\n  }, {\n    key: \"sanitize\",\n    value: function sanitize(url) {\n      return Link.sanitize(url);\n    }\n  }, {\n    key: \"value\",\n    value: function value(domNode) {\n      return domNode.getAttribute('src');\n    }\n  }]);\n}(BlockEmbed);\n_defineProperty(Video, \"blotName\", 'video');\n_defineProperty(Video, \"className\", 'ql-video');\n_defineProperty(Video, \"tagName\", 'IFRAME');\nexport default Video;","map":{"version":3,"names":["BlockEmbed","Link","ATTRIBUTES","Video","_BlockEmbed","_classCallCheck","_callSuper","arguments","_inherits","_createClass","key","value","format","name","indexOf","domNode","setAttribute","removeAttribute","_superPropGet","html","_this$value","video","concat","create","node","sanitize","formats","reduce","attribute","hasAttribute","getAttribute","url","_defineProperty"],"sources":["../../src/formats/video.ts"],"sourcesContent":["import { BlockEmbed } from '../blots/block.js';\nimport Link from './link.js';\n\nconst ATTRIBUTES = ['height', 'width'];\n\nclass Video extends BlockEmbed {\n  static blotName = 'video';\n  static className = 'ql-video';\n  static tagName = 'IFRAME';\n\n  static create(value: string) {\n    const node = super.create(value) as Element;\n    node.setAttribute('frameborder', '0');\n    node.setAttribute('allowfullscreen', 'true');\n    node.setAttribute('src', this.sanitize(value));\n    return node;\n  }\n\n  static formats(domNode: Element) {\n    return ATTRIBUTES.reduce(\n      (formats: Record<string, string | null>, attribute) => {\n        if (domNode.hasAttribute(attribute)) {\n          formats[attribute] = domNode.getAttribute(attribute);\n        }\n        return formats;\n      },\n      {},\n    );\n  }\n\n  static sanitize(url: string) {\n    return Link.sanitize(url);\n  }\n\n  static value(domNode: Element) {\n    return domNode.getAttribute('src');\n  }\n\n  domNode: HTMLVideoElement;\n\n  format(name: string, value: string) {\n    if (ATTRIBUTES.indexOf(name) > -1) {\n      if (value) {\n        this.domNode.setAttribute(name, value);\n      } else {\n        this.domNode.removeAttribute(name);\n      }\n    } else {\n      super.format(name, value);\n    }\n  }\n\n  html() {\n    const { video } = this.value();\n    return `<a href=\"${video}\">${video}</a>`;\n  }\n}\n\nexport default Video;\n"],"mappings":";;;;;;;;;;AAAA,SAASA,UAAU,QAAQ,mBAAmB;AAC9C,OAAOC,IAAI,MAAM,WAAW;AAE5B,IAAMC,UAAU,GAAG,CAAC,QAAQ,EAAE,OAAO,CAAC;AAAA,IAEhCC,KAAK,0BAAAC,WAAA;EAAA,SAAAD,MAAA;IAAAE,eAAA,OAAAF,KAAA;IAAA,OAAAG,UAAA,OAAAH,KAAA,EAAAI,SAAA;EAAA;EAAAC,SAAA,CAAAL,KAAA,EAAAC,WAAA;EAAA,OAAAK,YAAA,CAAAN,KAAA;IAAAO,GAAA;IAAAC,KAAA,EAmCT,SAAAC,MAAMA,CAACC,IAAY,EAAEF,KAAa,EAAE;MAClC,IAAIT,UAAU,CAACY,OAAO,CAACD,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE;QACjC,IAAIF,KAAK,EAAE;UACT,IAAI,CAACI,OAAO,CAACC,YAAY,CAACH,IAAI,EAAEF,KAAK,CAAC;QACxC,CAAC,MAAM;UACL,IAAI,CAACI,OAAO,CAACE,eAAe,CAACJ,IAAI,CAAC;QACpC;MACF,CAAC,MAAM;QACLK,aAAA,CAAAf,KAAA,sBAAaU,IAAI,EAAEF,KAAK;MAC1B;IACF;EAAA;IAAAD,GAAA;IAAAC,KAAA,EAEA,SAAAQ,IAAIA,CAAA,EAAG;MACL,IAAAC,WAAA,GAAkB,IAAI,CAACT,KAAK,CAAC,CAAC;QAAtBU,KAAA,GAAAD,WAAA,CAAAC,KAAA;MACR,oBAAAC,MAAA,CAAmBD,KAAM,SAAAC,MAAA,CAAID,KAAM;IACrC;EAAA;IAAAX,GAAA;IAAAC,KAAA,EA7CA,SAAOY,MAAMA,CAACZ,KAAa,EAAE;MAC3B,IAAMa,IAAI,GAAAN,aAAA,CAAAf,KAAA,sBAAgBQ,KAAK,EAAY;MAC3Ca,IAAI,CAACR,YAAY,CAAC,aAAa,EAAE,GAAG,CAAC;MACrCQ,IAAI,CAACR,YAAY,CAAC,iBAAiB,EAAE,MAAM,CAAC;MAC5CQ,IAAI,CAACR,YAAY,CAAC,KAAK,EAAE,IAAI,CAACS,QAAQ,CAACd,KAAK,CAAC,CAAC;MAC9C,OAAOa,IAAI;IACb;EAAA;IAAAd,GAAA;IAAAC,KAAA,EAEA,SAAOe,OAAOA,CAACX,OAAgB,EAAE;MAC/B,OAAOb,UAAU,CAACyB,MAAM,CACtB,UAACD,OAAsC,EAAEE,SAAS,EAAK;QACrD,IAAIb,OAAO,CAACc,YAAY,CAACD,SAAS,CAAC,EAAE;UACnCF,OAAO,CAACE,SAAS,CAAC,GAAGb,OAAO,CAACe,YAAY,CAACF,SAAS,CAAC;QACtD;QACA,OAAOF,OAAO;MAChB,CAAC,EACD,CAAC,CACH,CAAC;IACH;EAAA;IAAAhB,GAAA;IAAAC,KAAA,EAEA,SAAOc,QAAQA,CAACM,GAAW,EAAE;MAC3B,OAAO9B,IAAI,CAACwB,QAAQ,CAACM,GAAG,CAAC;IAC3B;EAAA;IAAArB,GAAA;IAAAC,KAAA,EAEA,SAAOA,KAAKA,CAACI,OAAgB,EAAE;MAC7B,OAAOA,OAAO,CAACe,YAAY,CAAC,KAAK,CAAC;IACpC;EAAA;AAAA,EA/BkB9B,UAAU;AAAAgC,eAAA,CAAxB7B,KAAK,cACS,OAAO;AAAA6B,eAAA,CADrB7B,KAAK,eAEU,UAAU;AAAA6B,eAAA,CAFzB7B,KAAK,aAGQ,QAAQ;AAkD3B,eAAeA,KAAK","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
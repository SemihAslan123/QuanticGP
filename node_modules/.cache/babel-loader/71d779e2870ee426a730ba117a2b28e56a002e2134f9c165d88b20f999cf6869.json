{"ast":null,"code":"import _classCallCheck from \"/home/esteban/2emeAnnee/S3/devWeb/QuanticGP10/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/home/esteban/2emeAnnee/S3/devWeb/QuanticGP10/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _callSuper from \"/home/esteban/2emeAnnee/S3/devWeb/QuanticGP10/node_modules/@babel/runtime/helpers/esm/callSuper.js\";\nimport _superPropGet from \"/home/esteban/2emeAnnee/S3/devWeb/QuanticGP10/node_modules/@babel/runtime/helpers/esm/superPropGet.js\";\nimport _inherits from \"/home/esteban/2emeAnnee/S3/devWeb/QuanticGP10/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _defineProperty from \"/home/esteban/2emeAnnee/S3/devWeb/QuanticGP10/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport \"core-js/modules/es.error.cause.js\";\nimport \"core-js/modules/es.error.to-string.js\";\nimport Embed from '../blots/embed.js';\nvar Formula = /*#__PURE__*/function (_Embed) {\n  function Formula() {\n    _classCallCheck(this, Formula);\n    return _callSuper(this, Formula, arguments);\n  }\n  _inherits(Formula, _Embed);\n  return _createClass(Formula, [{\n    key: \"html\",\n    value: function html() {\n      var _this$value = this.value(),\n        formula = _this$value.formula;\n      return \"<span>\".concat(formula, \"</span>\");\n    }\n  }], [{\n    key: \"create\",\n    value: function create(value) {\n      // @ts-expect-error\n      if (window.katex == null) {\n        throw new Error('Formula module requires KaTeX.');\n      }\n      var node = _superPropGet(Formula, \"create\", this, 2)([value]);\n      if (typeof value === 'string') {\n        // @ts-expect-error\n        window.katex.render(value, node, {\n          throwOnError: false,\n          errorColor: '#f00'\n        });\n        node.setAttribute('data-value', value);\n      }\n      return node;\n    }\n  }, {\n    key: \"value\",\n    value: function value(domNode) {\n      return domNode.getAttribute('data-value');\n    }\n  }]);\n}(Embed);\n_defineProperty(Formula, \"blotName\", 'formula');\n_defineProperty(Formula, \"className\", 'ql-formula');\n_defineProperty(Formula, \"tagName\", 'SPAN');\nexport default Formula;","map":{"version":3,"names":["Embed","Formula","_Embed","_classCallCheck","_callSuper","arguments","_inherits","_createClass","key","value","html","_this$value","formula","concat","create","window","katex","Error","node","_superPropGet","render","throwOnError","errorColor","setAttribute","domNode","getAttribute","_defineProperty"],"sources":["../../src/formats/formula.ts"],"sourcesContent":["import Embed from '../blots/embed.js';\n\nclass Formula extends Embed {\n  static blotName = 'formula';\n  static className = 'ql-formula';\n  static tagName = 'SPAN';\n\n  static create(value: string) {\n    // @ts-expect-error\n    if (window.katex == null) {\n      throw new Error('Formula module requires KaTeX.');\n    }\n    const node = super.create(value) as Element;\n    if (typeof value === 'string') {\n      // @ts-expect-error\n      window.katex.render(value, node, {\n        throwOnError: false,\n        errorColor: '#f00',\n      });\n      node.setAttribute('data-value', value);\n    }\n    return node;\n  }\n\n  static value(domNode: Element) {\n    return domNode.getAttribute('data-value');\n  }\n\n  html() {\n    const { formula } = this.value();\n    return `<span>${formula}</span>`;\n  }\n}\n\nexport default Formula;\n"],"mappings":";;;;;;;;AAAA,OAAOA,KAAK,MAAM,mBAAmB;AAAA,IAE/BC,OAAO,0BAAAC,MAAA;EAAA,SAAAD,QAAA;IAAAE,eAAA,OAAAF,OAAA;IAAA,OAAAG,UAAA,OAAAH,OAAA,EAAAI,SAAA;EAAA;EAAAC,SAAA,CAAAL,OAAA,EAAAC,MAAA;EAAA,OAAAK,YAAA,CAAAN,OAAA;IAAAO,GAAA;IAAAC,KAAA,EA0BX,SAAAC,IAAIA,CAAA,EAAG;MACL,IAAAC,WAAA,GAAoB,IAAI,CAACF,KAAK,CAAC,CAAC;QAAxBG,OAAA,GAAAD,WAAA,CAAAC,OAAA;MACR,gBAAAC,MAAA,CAAgBD,OAAQ;IAC1B;EAAA;IAAAJ,GAAA;IAAAC,KAAA,EAxBA,SAAOK,MAAMA,CAACL,KAAa,EAAE;MAC3B;MACA,IAAIM,MAAM,CAACC,KAAK,IAAI,IAAI,EAAE;QACxB,MAAM,IAAIC,KAAK,CAAC,gCAAgC,CAAC;MACnD;MACA,IAAMC,IAAI,GAAAC,aAAA,CAAAlB,OAAA,sBAAgBQ,KAAK,EAAY;MAC3C,IAAI,OAAOA,KAAK,KAAK,QAAQ,EAAE;QAC7B;QACAM,MAAM,CAACC,KAAK,CAACI,MAAM,CAACX,KAAK,EAAES,IAAI,EAAE;UAC/BG,YAAY,EAAE,KAAK;UACnBC,UAAU,EAAE;QACd,CAAC,CAAC;QACFJ,IAAI,CAACK,YAAY,CAAC,YAAY,EAAEd,KAAK,CAAC;MACxC;MACA,OAAOS,IAAI;IACb;EAAA;IAAAV,GAAA;IAAAC,KAAA,EAEA,SAAOA,KAAKA,CAACe,OAAgB,EAAE;MAC7B,OAAOA,OAAO,CAACC,YAAY,CAAC,YAAY,CAAC;IAC3C;EAAA;AAAA,EAxBoBzB,KAAK;AAAA0B,eAAA,CAArBzB,OAAO,cACO,SAAS;AAAAyB,eAAA,CADvBzB,OAAO,eAEQ,YAAY;AAAAyB,eAAA,CAF3BzB,OAAO,aAGM,MAAM;AA6BzB,eAAeA,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
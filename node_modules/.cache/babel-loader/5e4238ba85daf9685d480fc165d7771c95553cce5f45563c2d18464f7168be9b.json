{"ast":null,"code":"\"use strict\";\n\nvar _typeof = require(\"/home/esteban/2emeAnnee/S3/devWeb/QuanticGP10/node_modules/@babel/runtime/helpers/typeof.js\")[\"default\"];\nrequire(\"core-js/modules/es.array.concat.js\");\nrequire(\"core-js/modules/es.array.reduce.js\");\nrequire(\"core-js/modules/es.object.define-property.js\");\nrequire(\"core-js/modules/es.object.keys.js\");\nrequire(\"core-js/modules/es.object.to-string.js\");\nrequire(\"core-js/modules/esnext.iterator.constructor.js\");\nrequire(\"core-js/modules/esnext.iterator.reduce.js\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar cloneDeep = require(\"lodash.clonedeep\");\nvar isEqual = require(\"lodash.isequal\");\nvar AttributeMap;\n(function (AttributeMap) {\n  function compose() {\n    var a = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var b = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var keepNull = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n    if (_typeof(a) !== 'object') {\n      a = {};\n    }\n    if (_typeof(b) !== 'object') {\n      b = {};\n    }\n    var attributes = cloneDeep(b);\n    if (!keepNull) {\n      attributes = Object.keys(attributes).reduce(function (copy, key) {\n        if (attributes[key] != null) {\n          copy[key] = attributes[key];\n        }\n        return copy;\n      }, {});\n    }\n    for (var key in a) {\n      if (a[key] !== undefined && b[key] === undefined) {\n        attributes[key] = a[key];\n      }\n    }\n    return Object.keys(attributes).length > 0 ? attributes : undefined;\n  }\n  AttributeMap.compose = compose;\n  function diff() {\n    var a = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var b = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    if (_typeof(a) !== 'object') {\n      a = {};\n    }\n    if (_typeof(b) !== 'object') {\n      b = {};\n    }\n    var attributes = Object.keys(a).concat(Object.keys(b)).reduce(function (attrs, key) {\n      if (!isEqual(a[key], b[key])) {\n        attrs[key] = b[key] === undefined ? null : b[key];\n      }\n      return attrs;\n    }, {});\n    return Object.keys(attributes).length > 0 ? attributes : undefined;\n  }\n  AttributeMap.diff = diff;\n  function invert() {\n    var attr = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var base = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    attr = attr || {};\n    var baseInverted = Object.keys(base).reduce(function (memo, key) {\n      if (base[key] !== attr[key] && attr[key] !== undefined) {\n        memo[key] = base[key];\n      }\n      return memo;\n    }, {});\n    return Object.keys(attr).reduce(function (memo, key) {\n      if (attr[key] !== base[key] && base[key] === undefined) {\n        memo[key] = null;\n      }\n      return memo;\n    }, baseInverted);\n  }\n  AttributeMap.invert = invert;\n  function transform(a, b) {\n    var priority = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n    if (_typeof(a) !== 'object') {\n      return b;\n    }\n    if (_typeof(b) !== 'object') {\n      return undefined;\n    }\n    if (!priority) {\n      return b; // b simply overwrites us without priority\n    }\n    var attributes = Object.keys(b).reduce(function (attrs, key) {\n      if (a[key] === undefined) {\n        attrs[key] = b[key]; // null is a valid value\n      }\n      return attrs;\n    }, {});\n    return Object.keys(attributes).length > 0 ? attributes : undefined;\n  }\n  AttributeMap.transform = transform;\n})(AttributeMap || (AttributeMap = {}));\nexports[\"default\"] = AttributeMap;","map":{"version":3,"names":["cloneDeep","require","isEqual","AttributeMap","compose","a","arguments","length","undefined","b","keepNull","_typeof","attributes","Object","keys","reduce","copy","key","diff","concat","attrs","invert","attr","base","baseInverted","memo","transform","priority","exports"],"sources":["../src/AttributeMap.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}
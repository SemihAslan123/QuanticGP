{"ast":null,"code":"import _classCallCheck from \"/home/esteban/2emeAnnee/S3/devWeb/QuanticGP10/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/home/esteban/2emeAnnee/S3/devWeb/QuanticGP10/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _callSuper from \"/home/esteban/2emeAnnee/S3/devWeb/QuanticGP10/node_modules/@babel/runtime/helpers/esm/callSuper.js\";\nimport _superPropGet from \"/home/esteban/2emeAnnee/S3/devWeb/QuanticGP10/node_modules/@babel/runtime/helpers/esm/superPropGet.js\";\nimport _inherits from \"/home/esteban/2emeAnnee/S3/devWeb/QuanticGP10/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _defineProperty from \"/home/esteban/2emeAnnee/S3/devWeb/QuanticGP10/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport \"core-js/modules/es.array.concat.js\";\nimport \"core-js/modules/es.array.for-each.js\";\nimport \"core-js/modules/es.array.from.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.string.iterator.js\";\nimport \"core-js/modules/esnext.iterator.constructor.js\";\nimport \"core-js/modules/esnext.iterator.for-each.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\nimport { EventEmitter } from 'eventemitter3';\nimport instances from './instances.js';\nimport logger from './logger.js';\nvar debug = logger('quill:events');\nvar EVENTS = ['selectionchange', 'mousedown', 'mouseup', 'click'];\nEVENTS.forEach(function (eventName) {\n  document.addEventListener(eventName, function () {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    Array.from(document.querySelectorAll('.ql-container')).forEach(function (node) {\n      var quill = instances.get(node);\n      if (quill && quill.emitter) {\n        var _quill$emitter;\n        (_quill$emitter = quill.emitter).handleDOM.apply(_quill$emitter, args);\n      }\n    });\n  });\n});\nvar Emitter = /*#__PURE__*/function (_EventEmitter) {\n  function Emitter() {\n    var _this;\n    _classCallCheck(this, Emitter);\n    _this = _callSuper(this, Emitter);\n    _this.domListeners = {};\n    _this.on('error', debug.error);\n    return _this;\n  }\n  _inherits(Emitter, _EventEmitter);\n  return _createClass(Emitter, [{\n    key: \"emit\",\n    value: function emit() {\n      var _debug$log;\n      for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n      (_debug$log = debug.log).call.apply(_debug$log, [debug].concat(args));\n      // @ts-expect-error\n      return _superPropGet(Emitter, \"emit\", this, 3)(args);\n    }\n  }, {\n    key: \"handleDOM\",\n    value: function handleDOM(event) {\n      for (var _len3 = arguments.length, args = new Array(_len3 > 1 ? _len3 - 1 : 0), _key3 = 1; _key3 < _len3; _key3++) {\n        args[_key3 - 1] = arguments[_key3];\n      }\n      (this.domListeners[event.type] || []).forEach(function (_ref) {\n        var node = _ref.node,\n          handler = _ref.handler;\n        if (event.target === node || node.contains(event.target)) {\n          handler.apply(void 0, [event].concat(args));\n        }\n      });\n    }\n  }, {\n    key: \"listenDOM\",\n    value: function listenDOM(eventName, node, handler) {\n      if (!this.domListeners[eventName]) {\n        this.domListeners[eventName] = [];\n      }\n      this.domListeners[eventName].push({\n        node: node,\n        handler: handler\n      });\n    }\n  }]);\n}(EventEmitter);\n_defineProperty(Emitter, \"events\", {\n  EDITOR_CHANGE: 'editor-change',\n  SCROLL_BEFORE_UPDATE: 'scroll-before-update',\n  SCROLL_BLOT_MOUNT: 'scroll-blot-mount',\n  SCROLL_BLOT_UNMOUNT: 'scroll-blot-unmount',\n  SCROLL_OPTIMIZE: 'scroll-optimize',\n  SCROLL_UPDATE: 'scroll-update',\n  SCROLL_EMBED_UPDATE: 'scroll-embed-update',\n  SELECTION_CHANGE: 'selection-change',\n  TEXT_CHANGE: 'text-change',\n  COMPOSITION_BEFORE_START: 'composition-before-start',\n  COMPOSITION_START: 'composition-start',\n  COMPOSITION_BEFORE_END: 'composition-before-end',\n  COMPOSITION_END: 'composition-end'\n});\n_defineProperty(Emitter, \"sources\", {\n  API: 'api',\n  SILENT: 'silent',\n  USER: 'user'\n});\nexport default Emitter;","map":{"version":3,"names":["EventEmitter","instances","logger","debug","EVENTS","forEach","eventName","document","addEventListener","_len","arguments","length","args","Array","_key","from","querySelectorAll","node","quill","get","emitter","_quill$emitter","handleDOM","apply","Emitter","_EventEmitter","_this","_classCallCheck","_callSuper","domListeners","on","error","_inherits","_createClass","key","value","emit","_debug$log","_len2","_key2","log","call","concat","_superPropGet","event","_len3","_key3","type","_ref","handler","target","contains","listenDOM","push","_defineProperty","EDITOR_CHANGE","SCROLL_BEFORE_UPDATE","SCROLL_BLOT_MOUNT","SCROLL_BLOT_UNMOUNT","SCROLL_OPTIMIZE","SCROLL_UPDATE","SCROLL_EMBED_UPDATE","SELECTION_CHANGE","TEXT_CHANGE","COMPOSITION_BEFORE_START","COMPOSITION_START","COMPOSITION_BEFORE_END","COMPOSITION_END","API","SILENT","USER"],"sources":["../../src/core/emitter.ts"],"sourcesContent":["import { EventEmitter } from 'eventemitter3';\nimport instances from './instances.js';\nimport logger from './logger.js';\n\nconst debug = logger('quill:events');\nconst EVENTS = ['selectionchange', 'mousedown', 'mouseup', 'click'];\n\nEVENTS.forEach((eventName) => {\n  document.addEventListener(eventName, (...args) => {\n    Array.from(document.querySelectorAll('.ql-container')).forEach((node) => {\n      const quill = instances.get(node);\n      if (quill && quill.emitter) {\n        quill.emitter.handleDOM(...args);\n      }\n    });\n  });\n});\n\nclass Emitter extends EventEmitter<string> {\n  static events = {\n    EDITOR_CHANGE: 'editor-change',\n    SCROLL_BEFORE_UPDATE: 'scroll-before-update',\n    SCROLL_BLOT_MOUNT: 'scroll-blot-mount',\n    SCROLL_BLOT_UNMOUNT: 'scroll-blot-unmount',\n    SCROLL_OPTIMIZE: 'scroll-optimize',\n    SCROLL_UPDATE: 'scroll-update',\n    SCROLL_EMBED_UPDATE: 'scroll-embed-update',\n    SELECTION_CHANGE: 'selection-change',\n    TEXT_CHANGE: 'text-change',\n    COMPOSITION_BEFORE_START: 'composition-before-start',\n    COMPOSITION_START: 'composition-start',\n    COMPOSITION_BEFORE_END: 'composition-before-end',\n    COMPOSITION_END: 'composition-end',\n  } as const;\n\n  static sources = {\n    API: 'api',\n    SILENT: 'silent',\n    USER: 'user',\n  } as const;\n\n  protected domListeners: Record<string, { node: Node; handler: Function }[]>;\n\n  constructor() {\n    super();\n    this.domListeners = {};\n    this.on('error', debug.error);\n  }\n\n  emit(...args: unknown[]): boolean {\n    debug.log.call(debug, ...args);\n    // @ts-expect-error\n    return super.emit(...args);\n  }\n\n  handleDOM(event: Event, ...args: unknown[]) {\n    (this.domListeners[event.type] || []).forEach(({ node, handler }) => {\n      if (event.target === node || node.contains(event.target as Node)) {\n        handler(event, ...args);\n      }\n    });\n  }\n\n  listenDOM(eventName: string, node: Node, handler: EventListener) {\n    if (!this.domListeners[eventName]) {\n      this.domListeners[eventName] = [];\n    }\n    this.domListeners[eventName].push({ node, handler });\n  }\n}\n\nexport type EmitterSource =\n  (typeof Emitter.sources)[keyof typeof Emitter.sources];\n\nexport default Emitter;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"import _regeneratorRuntime from \"/home/esteban/2emeAnnee/S3/devWeb/QuanticGP10/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/home/esteban/2emeAnnee/S3/devWeb/QuanticGP10/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport axios from \"axios\";\nexport default {\n  data: function data() {\n    return {\n      prenomUtilisateur: \"\",\n      nomUtilisateur: \"\",\n      emailUtilisateur: \"\",\n      motDePasse: \"\",\n      typeUtilisateur: \"client\" // Valeur par défaut\n    };\n  },\n  methods: {\n    goToLogin: function goToLogin() {\n      this.$router.push({\n        name: \"Login\"\n      });\n    },\n    handleRegistration: function handleRegistration() {\n      var _this = this;\n      return _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        var response;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return axios.post(\"http://localhost:3001/inscription\", {\n                prenomUtilisateur: _this.prenomUtilisateur,\n                nomUtilisateur: _this.nomUtilisateur,\n                emailUtilisateur: _this.emailUtilisateur,\n                motDePasse: _this.motDePasse,\n                typeUtilisateur: _this.typeUtilisateur\n              });\n            case 3:\n              response = _context.sent;\n              console.log(\"Réponse de l’API : \", response.data);\n              alert(\"Inscription réussie ! Vous pouvez maintenant vous connecter.\");\n              _this.$router.push({\n                name: \"Login\"\n              }); // Redirige vers la page de connexion\n              _context.next = 13;\n              break;\n            case 9:\n              _context.prev = 9;\n              _context.t0 = _context[\"catch\"](0);\n              console.error(\"Erreur lors de l'inscription : \", _context.t0);\n              alert(\"Une erreur est survenue lors de l'inscription.\");\n            case 13:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee, null, [[0, 9]]);\n      }))();\n    }\n  }\n};","map":{"version":3,"names":["axios","data","prenomUtilisateur","nomUtilisateur","emailUtilisateur","motDePasse","typeUtilisateur","methods","goToLogin","$router","push","name","handleRegistration","_this","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","wrap","_callee$","_context","prev","next","post","sent","console","log","alert","t0","error","stop"],"sources":["src/views/InscriptionView.vue"],"sourcesContent":["<template>\n  <div class=\"registration-container\">\n    <h1>Inscription</h1>\n\n    <form @submit.prevent=\"handleRegistration\">\n      <div class=\"form-group\">\n        <label for=\"prenomUtilisateur\">Prénom</label>\n        <input\n            v-model=\"prenomUtilisateur\"\n            type=\"text\"\n            id=\"prenomUtilisateur\"\n            placeholder=\"John\"\n            required\n        />\n      </div>\n\n      <div class=\"form-group\">\n        <label for=\"nomUtilisateur\">Nom</label>\n        <input\n            v-model=\"nomUtilisateur\"\n            type=\"text\"\n            id=\"nomUtilisateur\"\n            placeholder=\"Doe\"\n            required\n        />\n      </div>\n\n      <div class=\"form-group\">\n        <label for=\"emailUtilisateur\">Email</label>\n        <input\n            v-model=\"emailUtilisateur\"\n            type=\"email\"\n            id=\"emailUtilisateur\"\n            placeholder=\"exemple@mail.com\"\n            required\n        />\n      </div>\n\n      <div class=\"form-group\">\n        <label for=\"motDePasse\">Mot de passe</label>\n        <input\n            v-model=\"motDePasse\"\n            type=\"password\"\n            id=\"motDePasse\"\n            placeholder=\"********\"\n            required\n        />\n      </div>\n\n      <div class=\"form-group\">\n        <label for=\"typeUtilisateur\">Type d'utilisateur</label>\n        <select v-model=\"typeUtilisateur\" id=\"typeUtilisateur\" required>\n          <option value=\"client\">Client</option>\n          <option value=\"prestataire\">Prestataire</option>\n          <option value=\"admin\">Admin</option>\n        </select>\n      </div>\n\n      <button type=\"submit\">S'inscrire</button>\n    </form>\n    <br>\n    <button class=\"login-button\" type=\"submit\" @click=\"goToLogin\">Se connecter</button>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\n\nexport default {\n  data() {\n    return {\n      prenomUtilisateur: \"\",\n      nomUtilisateur: \"\",\n      emailUtilisateur: \"\",\n      motDePasse: \"\",\n      typeUtilisateur: \"client\", // Valeur par défaut\n    };\n  },\n  methods: {\n        goToLogin() {\n      this.$router.push({ name: \"Login\" });\n    },\n    async handleRegistration() {\n      try {\n        const response = await axios.post(\"http://localhost:3001/inscription\", {\n          prenomUtilisateur: this.prenomUtilisateur,\n          nomUtilisateur: this.nomUtilisateur,\n          emailUtilisateur: this.emailUtilisateur,\n          motDePasse: this.motDePasse,\n          typeUtilisateur: this.typeUtilisateur,\n        });\n\n        console.log(\"Réponse de l’API : \", response.data);\n        alert(\"Inscription réussie ! Vous pouvez maintenant vous connecter.\");\n        this.$router.push({ name: \"Login\" }); // Redirige vers la page de connexion\n      } catch (error) {\n        console.error(\"Erreur lors de l'inscription : \", error);\n        alert(\"Une erreur est survenue lors de l'inscription.\");\n      }\n    },\n  },\n};\n</script>\n\n<style scoped>\n\n.login-button {\n  width: 100%;\n  padding: 10px;\n  border: none;\n  border-radius: 5px;\n  background-color: #4caf50;\n  color: white;\n  font-weight: bold;\n  cursor: pointer;\n  transition: background-color 0.3s ease;\n}\n\n.registration-container {\n  width: 100%;\n  max-width: 600px;\n  margin: 0 auto;\n  padding: 20px;\n  background-color: #f8f9fa;\n  border-radius: 8px;\n  margin-top: 90px;\n}\n\nh1 {\n  text-align: center;\n  color: #e74c3c;\n}\n\n.form-group {\n  margin-bottom: 15px;\n}\n\n.form-group label {\n  display: block;\n  font-weight: bold;\n  margin-bottom: 5px;\n}\n\n.form-group input,\n.form-group select {\n  width: 100%;\n  padding: 10px;\n  font-size: 1em;\n  border: 1px solid #ccc;\n  border-radius: 5px;\n  box-sizing: border-box;\n}\n\nbutton {\n  width: 100%;\n  padding: 12px;\n  background-color: #e74c3c;\n  color: white;\n  border: none;\n  border-radius: 5px;\n  font-size: 1.2em;\n  cursor: pointer;\n  transition: background-color 0.3s ease;\n}\n\nbutton:hover {\n  background-color: #c0392b;\n}\n</style>\n"],"mappings":";;;AAkEA,OAAAA,KAAA;AAEA;EACAC,IAAA,WAAAA,KAAA;IACA;MACAC,iBAAA;MACAC,cAAA;MACAC,gBAAA;MACAC,UAAA;MACAC,eAAA;IACA;EACA;EACAC,OAAA;IACAC,SAAA,WAAAA,UAAA;MACA,KAAAC,OAAA,CAAAC,IAAA;QAAAC,IAAA;MAAA;IACA;IACAC,kBAAA,WAAAA,mBAAA;MAAA,IAAAC,KAAA;MAAA,OAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,UAAAC,QAAA;QAAA,IAAAC,QAAA;QAAA,OAAAH,mBAAA,GAAAI,IAAA,UAAAC,SAAAC,QAAA;UAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;YAAA;cAAAF,QAAA,CAAAC,IAAA;cAAAD,QAAA,CAAAE,IAAA;cAAA,OAEAvB,KAAA,CAAAwB,IAAA;gBACAtB,iBAAA,EAAAW,KAAA,CAAAX,iBAAA;gBACAC,cAAA,EAAAU,KAAA,CAAAV,cAAA;gBACAC,gBAAA,EAAAS,KAAA,CAAAT,gBAAA;gBACAC,UAAA,EAAAQ,KAAA,CAAAR,UAAA;gBACAC,eAAA,EAAAO,KAAA,CAAAP;cACA;YAAA;cANAY,QAAA,GAAAG,QAAA,CAAAI,IAAA;cAQAC,OAAA,CAAAC,GAAA,wBAAAT,QAAA,CAAAjB,IAAA;cACA2B,KAAA;cACAf,KAAA,CAAAJ,OAAA,CAAAC,IAAA;gBAAAC,IAAA;cAAA;cAAAU,QAAA,CAAAE,IAAA;cAAA;YAAA;cAAAF,QAAA,CAAAC,IAAA;cAAAD,QAAA,CAAAQ,EAAA,GAAAR,QAAA;cAEAK,OAAA,CAAAI,KAAA,oCAAAT,QAAA,CAAAQ,EAAA;cACAD,KAAA;YAAA;YAAA;cAAA,OAAAP,QAAA,CAAAU,IAAA;UAAA;QAAA,GAAAd,OAAA;MAAA;IAEA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}